@istest
global class V11_WebServiceMock implements HttpCalloutMock {

    String testCase;

    global V11_WebServiceMock(){}

    global V11_WebServiceMock(String testCase){

        this.testCase = testCase;

    }

    global HTTPResponse respond(HTTPRequest req){
        
        HttpResponse response = new HttpResponse();
        if(testCase=='Error'){
            response.setBody('<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> <soapenv:Body> <processResponse xmlns="http://webservices.semiramis.com/2006-01/Import/extended/PARTNERSALESFORCE"> <processReturn> <result> <importedObjectCount>0</importedObjectCount> <invalidObjectCount>1</invalidObjectCount> <notCorrigibleObjectCount>0</notCorrigibleObjectCount> <hasErrorFile>true</hasErrorFile> <errorData> <ns1:Partner mode="update" invalid="true" xmlns:ns1="http://webservices.semiramis.com/2006-01/Import/extended/PARTNERSALESFORCE/data"> <ns1:_message> <ns2:severityLevel xmlns:ns2="http://webservices.semiramis.com/2006-01/common">STATUS</ns2:severityLevel> <ns3:identifier xmlns:ns3="http://webservices.semiramis.com/2006-01/common">GEN-00445</ns3:identifier> <ns4:messageClass xmlns:ns4="http://webservices.semiramis.com/2006-01/common">GEN</ns4:messageClass> <ns5:messageNumber xmlns:ns5="http://webservices.semiramis.com/2006-01/common">445</ns5:messageNumber> <ns6:messageText xmlns:ns6="http://webservices.semiramis.com/2006-01/common">Partner &quot;40000006&quot; wurde ge&#xF6;ffnet.</ns6:messageText> <ns7:messageLongText xmlns:ns7="http://webservices.semiramis.com/2006-01/common"/> </ns1:_message> <ns1:_message> <ns8:severityLevel xmlns:ns8="http://webservices.semiramis.com/2006-01/common">ERROR</ns8:severityLevel> <ns9:identifier xmlns:ns9="http://webservices.semiramis.com/2006-01/common">GEN-08063</ns9:identifier> <ns10:messageClass xmlns:ns10="http://webservices.semiramis.com/2006-01/common">GEN</ns10:messageClass> <ns11:messageNumber xmlns:ns11="http://webservices.semiramis.com/2006-01/common">8063</ns11:messageNumber> <ns12:messageText xmlns:ns12="http://webservices.semiramis.com/2006-01/common">Es gibt keinen Datensatz mit den Kommunikationsdaten &quot;(Telefon, mobil) +4900123445&quot; der gel&#xF6;scht werden k&#xF6;nnte.</ns12:messageText> <ns13:messageLongText xmlns:ns13="http://webservices.semiramis.com/2006-01/common"/> </ns1:_message> <ns1:number>40000006</ns1:number> <ns1:type>EXTERNAL</ns1:type> <ns1:person> <ns1:givenName>jaaa</ns1:givenName> <ns1:middleNames/> <ns1:surname>test</ns1:surname> <ns1:gender>MALE</ns1:gender> <ns1:Salutation> <ns1:name>100</ns1:name> </ns1:Salutation> <ns1:Title> <ns1:name/> </ns1:Title> </ns1:person> <ns1:EntityExtension mode="create"> <ns1:SALESFORCEID mode="create"> <ns1:value>0032600001VOB1BAAX</ns1:value> </ns1:SALESFORCEID> </ns1:EntityExtension> <ns1:human>true</ns1:human> <ns1:Language> <ns1:isoCode>de</ns1:isoCode> </ns1:Language> <ns1:MaintainingOrganization> <ns1:number>910000</ns1:number> </ns1:MaintainingOrganization> <ns1:CommunicationData mode="delete"> <ns1:commData>jaa@ja.nein</ns1:commData> <ns1:preferred>false</ns1:preferred> <ns1:Method> <ns1:name>300</ns1:name> </ns1:Method> </ns1:CommunicationData> <ns1:CommunicationData mode="delete"> <ns1:commData>+4900123445</ns1:commData> <ns1:preferred>false</ns1:preferred> <ns1:Method> <ns1:name>120</ns1:name> </ns1:Method> </ns1:CommunicationData> <ns1:CommunicationData mode="delete"> <ns1:commData>+4900123445</ns1:commData> <ns1:preferred>true</ns1:preferred> <ns1:Method> <ns1:name>100</ns1:name> </ns1:Method> </ns1:CommunicationData> </ns1:Partner> </errorData> </result> <messageQueue> <ns14:requiresAttention xmlns:ns14="http://webservices.semiramis.com/2006-01/common">true</ns14:requiresAttention> <ns15:message xmlns:ns15="http://webservices.semiramis.com/2006-01/common"> <ns15:severityLevel>ERROR</ns15:severityLevel> <ns15:identifier>BIS-00029</ns15:identifier> <ns15:messageClass>BIS</ns15:messageClass> <ns15:messageNumber>29</ns15:messageNumber> <ns15:messageText>Beim Import der Daten sind Fehler aufgetreten. Die Ergebnisse des Imports wurden protokolliert.</ns15:messageText> <ns15:messageLongText>Importierte, sowie fehlerhafte Datens&#xE4;tze mit ihren Fehlermeldungen sind im Datenaustausch-Protokoll vermerkt. Die Fehlerdatei ist ebenfalls &#xFC;ber das Protokoll verf&#xFC;gbar.</ns15:messageLongText> </ns15:message> </messageQueue> </processReturn> </processResponse> </soapenv:Body> </soapenv:Envelope>');
        }else if (testCase == null){
            response.setBody('<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> <soapenv:Body> <processResponse xmlns="http://webservices.semiramis.com/2006-01/Import/extended/PARTNERSALESFORCE"> <processReturn> <result> <importedObjectCount>1</importedObjectCount> <invalidObjectCount>0</invalidObjectCount> <notCorrigibleObjectCount>0</notCorrigibleObjectCount> <hasErrorFile>false</hasErrorFile> <errorData xsi:nil="true"/> </result> <messageQueue> <ns1:requiresAttention xmlns:ns1="http://webservices.semiramis.com/2006-01/common">false</ns1:requiresAttention> <ns2:message xmlns:ns2="http://webservices.semiramis.com/2006-01/common"> <ns2:severityLevel>STATUS</ns2:severityLevel> <ns2:identifier>BIS-00030</ns2:identifier> <ns2:messageClass>BIS</ns2:messageClass> <ns2:messageNumber>30</ns2:messageNumber> <ns2:messageText>Die Daten wurden erfolgreich importiert (1 Objekte). Die Ergebnisse des Imports wurden protokolliert.</ns2:messageText> <ns2:messageLongText>Importierte Datens&#xE4;tze sind im Datenaustausch-Protokoll vermerkt.</ns2:messageLongText> </ns2:message> </messageQueue> </processReturn> </processResponse> </soapenv:Body> </soapenv:Envelope>');
        }else if(testCase =='enaio'){
            response.setBody('1234');
        }
        
        return response;

    } 
}